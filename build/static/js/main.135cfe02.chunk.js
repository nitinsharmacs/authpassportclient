(this.webpackJsonpfeeberchat=this.webpackJsonpfeeberchat||[]).push([[0],{21:function(e,t,a){e.exports={AuthBox:"AuthBox__authbox__mEreS",boxcome:"boxcome__authbox__3DX6f",Header:"Header__authbox__1PCcj",Inputs:"Inputs__authbox__17u3G",Input:"Input__authbox__hgB7S",Controls:"Controls__authbox__11LTj",Rules:"Rules__authbox__2GRSY",ErrorBox:"ErrorBox__authbox__3ew2_",SocialLogins:"SocialLogins__authbox__1TBb2",ModeSwitcher:"ModeSwitcher__authbox__FyJNs"}},40:function(e,t,a){e.exports={Home:"Home__home__37fep",Navbar:"Navbar__home__ZISe-",Content:"Content__home__1x4oj"}},47:function(e,t,a){e.exports={App:"App__App__1o-Fp"}},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){e.exports={Loader:"Loader__loader__2XD0u",load7:"load7__loader__34H23"}},58:function(e,t,a){e.exports=a(69)},63:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),s=a(27),i=(a(63),a(16)),c=a(17),u=a(19),m=a(18),h=a(47),p=a.n(h),d=a(48),v=a.n(d),g=a(33),f=a(23),b=a(21),_=a.n(b),E=a(102),w=a(105),x=a(104),j=a(103),O=function(e,t){var a,n,o=!0,r=Object(f.a)({},t);if(t.isRequired){var l=""!==e;r.isRequired.valid=l,o=o&&l}if(t.lowerCase){var s;s=/[a-z]/.test(e),r.lowerCase.valid=s,o=o&&s}if(t.upperCase){var i;i=/[A-Z]/.test(e),r.upperCase.valid=i,o=o&&i}if(t.noSpace){var c=/ /.test(e);r.noSpace.valid=!c,o=o&&!c}t.minLength&&(a=e.length>=t.minLength.value,r.minLength.valid=a,o=o&&a);t.maxLength&&(n=e.length<=t.maxLength.value,r.maxLength.valid=n,o=o&&n);if(t.isEmail){var u;u=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e),r.isEmail.valid=u,o=o&&u}if(t.specialChar){var m=/[!@#$%&?]/.test(e);r.specialChar.valid=m,o=o&&m}if(t.numerical){var h=/[0-9]/.test(e);r.numerical.valid=h,o=o&&h}return r.valid=o,r},y=a(10),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={elements:e.props.elements,formvalid:!1,current:void 0,processing:!1,error:void 0},e.onChange=function(t){var a=Object(f.a)({},e.state.elements[t.target.name]);a.value=t.target.value;var n=O(a.value,a.validation);for(var o in a.valid=n.valid,a.validation)a.validation[o]=n[o];var r=!0;for(var l in e.state.elements)r=l===t.target.name?r&&a.valid:r&&e.state.elements[l].valid;e.setState({elements:Object(f.a)(Object(f.a)({},e.state.elements),{},Object(g.a)({},t.target.name,a)),formvalid:r,current:r?void 0:a})},e.onFocusOut=function(t){var a=Object(f.a)({},e.state.elements[t.target.name]);a.touched=!0,e.setState({current:void 0,elements:Object(f.a)(Object(f.a)({},e.state.elements),{},Object(g.a)({},t.target.name,a))})},e.submit=function(){e.setState({processing:!0});var t={};for(var a in e.state.elements)t[a]=e.state.elements[a].value;fetch("https://authpassportjs.herokuapp.com"+"/auth/".concat("login"===e.props.for?"login":"register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){if(console.log(t),201!==t.status&&200!==t.status)throw new Error(t.message);e.setState({processing:!1}),"login"===e.props.for?(document.cookie="token=".concat(t.token,";expires=").concat(new Date((new Date).setHours((new Date).getHours()+5))),e.props.loginHandler()):e.props.history.replace("/login")})).catch((function(t){console.log(t),e.setState({processing:!1,error:t.message})}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:_.a.AuthBox},o.a.createElement("div",{className:_.a.Header},o.a.createElement("h1",null,"login"===this.props.for?"Login":"Register")),o.a.createElement("div",{className:_.a.Inputs},Object.keys(this.state.elements).map((function(t){return o.a.createElement(w.a,{autoFill:!1,name:e.state.elements[t].name,className:_.a.Input,label:e.state.elements[t].placeholder,variant:"standard",value:e.state.elements[t].value,onChange:e.onChange,error:e.state.elements[t].touched&&!e.state.elements[t].valid,onBlur:e.onFocusOut})}))),o.a.createElement("div",{className:_.a.Controls},o.a.createElement(E.a,{variant:"contained",color:"primary",disabled:!this.state.formvalid||this.state.processing,onClick:this.submit},this.state.processing?o.a.createElement(j.a,{style:{height:"25px",width:"25px",color:"grey"}}):"login"===this.props.for?"Login":"Register")),"register"===this.props.for?o.a.createElement("div",{className:_.a.Rules},this.state.current?Object.keys(this.state.current.validation).map((function(t){if(!e.state.current.validation[t].valid)return o.a.createElement("span",null,"\u2022 ",e.state.current.validation[t].label)})):null):null,this.state.error?o.a.createElement("div",{className:_.a.ErrorBox},o.a.createElement("p",null,this.state.error)):null,"login"===this.props.for?o.a.createElement("div",{className:_.a.SocialLogins},o.a.createElement("p",null,"Or Login With"),o.a.createElement(x.a,{onClick:function(){window.open("https://authpassportjs.herokuapp.com/auth/google","_self")}},o.a.createElement("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30px",height:"30px"},"    ",o.a.createElement("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032 s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2 C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}))),o.a.createElement(x.a,{onClick:function(){window.open("https://authpassportjs.herokuapp.com/auth/facebook","_self")}},o.a.createElement("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30px",height:"30px"},"    ",o.a.createElement("path",{d:"M17.525,9H14V7c0-1.032,0.084-1.682,1.563-1.682h1.868v-3.18C16.522,2.044,15.608,1.998,14.693,2 C11.98,2,10,3.657,10,6.699V9H7v4l3-0.001V22h4v-9.003l3.066-0.001L17.525,9z"})))):null,o.a.createElement("div",{className:_.a.ModeSwitcher},o.a.createElement(E.a,null,o.a.createElement(s.b,{to:"login"===this.props.for?"/register":"/"},"Switch to ","login"===this.props.for?"Register":"Login"))))}}]),a}(n.Component),C=Object(y.f)(k),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={elements:{username:{top:!0,type:"text",placeholder:"Username",name:"username",value:"",icon:"user",validation:{isRequired:{value:!0,label:"",valid:!1}},valid:!1},password:{bottom:!0,type:"password",placeholder:"Password",name:"password",value:"",icon:"lock",validation:{isRequired:{value:!0,label:"",valid:!1}},valid:!1}}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.title="Login"}},{key:"render",value:function(){return o.a.createElement("div",{className:v.a.Login},o.a.createElement(C,{loginHandler:this.props.loginHandler,elements:this.state.elements,for:"login"}))}}]),a}(n.Component),S=a(49),N=a.n(S),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={elements:{username:{top:!0,type:"text",placeholder:"Username",name:"username",value:"",icon:"user",validation:{minLength:{value:5,label:"minimum 5 characters",valid:!1},maxLength:{value:15,label:"maximum 15 characters",valid:!0},noSpace:{value:!0,label:"No Whitespace allowed",valid:!1}},valid:!1},email:{type:"email",placeholder:"Email",name:"email",value:"",validation:{isEmail:{value:!0,label:"should be a valid Email",valid:!1}},valid:!1},password:{bottom:!0,type:"password",placeholder:"Password",name:"password",value:"",icon:"lock",validation:{minLength:{value:8,label:"minimum 8 characters",valid:!1},maxLength:{value:15,label:"maximum 15 characters",valid:!0},upperCase:{value:1,label:"atleast 1 uppercase letter",valid:!1},lowerCase:{value:1,label:"atleast 1 lowercase letter",valid:!1},specialChar:{value:1,label:"atleast 1 special character (!,@,#,$,%,&,?)",valid:!1},numerical:{value:1,label:"atleast 1 numerical character",valid:!1},noSpace:{value:!0,label:"No Whitespace allowed",valid:!1}},valid:!1}}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.title="Register"}},{key:"render",value:function(){return o.a.createElement("div",{className:N.a.Login},o.a.createElement(C,{elements:this.state.elements,for:"register"}))}}]),a}(n.Component),A=a(40),I=a.n(A),B=a(50),z=a.n(B),R=function(e){return o.a.createElement("div",{className:z.a.Loader})},D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loading:!0,userInfo:void 0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.title="Home";var t=document.cookie.split(";")[0].split("=")[1];fetch("https://authpassportjs.herokuapp.com/user",{headers:{Authorization:"Bearer "+t}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),200!==t.status)throw new Error(t.message);e.setState({loading:!1,userInfo:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:I.a.Home},this.state.userInfo?o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{className:I.a.Navbar},o.a.createElement("ul",null,o.a.createElement("li",null,this.state.userInfo.name||this.state.userInfo.username),o.a.createElement("li",{onClick:this.props.logoutHandler},o.a.createElement(s.b,{to:"/login"},"Logout")))),o.a.createElement("div",{className:I.a.Content},o.a.createElement("h1",null,"Welcome ",this.state.userInfo.name||this.state.userInfo.username," !"))):o.a.createElement(R,null))}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isLogined:!1},e.loadAuthStates=function(){var t=document.cookie.split(";")[0].split("=")[0],a=document.cookie.split(";")[0].split("=")[1];"token"===t&&a&&e.setState({isLogined:!0})},e.loginHandler=function(){e.loadAuthStates()},e.logoutHandler=function(){document.cookie="token=;expires="+new Date(1),e.setState({isLogined:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadAuthStates()}},{key:"render",value:function(){var e=this,t=o.a.createElement(y.c,null,o.a.createElement(y.a,{path:"/register",component:H}),o.a.createElement(y.a,{path:"/",render:function(){return o.a.createElement(L,{loginHandler:e.loginHandler})}}));return this.state.isLogined&&(t=o.a.createElement(D,{logoutHandler:this.logoutHandler,userName:this.state.username})),o.a.createElement("div",{className:p.a.App},t)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,null,o.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.135cfe02.chunk.js.map